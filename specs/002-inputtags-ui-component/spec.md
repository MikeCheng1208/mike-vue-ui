# Feature Specification: InputTags UI 元件

**Feature Branch**: `002-inputtags-ui-component`  
**Created**: 2025-09-30  
**Status**: Draft  
**Input**: User description: "我要做一個名字叫做 InputTags UI 元件，這個元件是一個輸入內容按下 enter 之後，會變成 tag 出現在 input 輸入框中，然後可以繼續輸入，繼續增加 tag，每個 tag 的右邊有一個 x 的按鈕，可以移除新增上去的 tag"

## 執行流程 (主要)
```
1. 解析輸入中的使用者描述
   → 如果為空：錯誤 "未提供功能描述"
2. 從描述中提取關鍵概念
   → 識別：參與者、動作、資料、限制條件
3. 對於每個不清楚的方面：
   → 標記為 [需要澄清：具體問題]
4. 填寫使用者情境與測試章節
   → 如果沒有清楚的使用者流程：錯誤 "無法確定使用者情境"
5. 產生功能需求
   → 每個需求都必須可測試
   → 標記模糊的需求
6. 識別關鍵實體（如果涉及資料）
7. 執行審查檢查清單
   → 如果有任何 [需要澄清]：警告 "規格存在不確定性"
   → 如果發現實作細節：錯誤 "移除技術細節"
8. 回傳：成功（規格準備好進行規劃）
```

---

## ⚡ 快速指南
- ✅ 專注於使用者需要什麼以及為什麼
- ❌ 避免如何實作（無技術堆疊、API、程式碼結構）
- 👥 為業務相關人員撰寫，而非開發者

### 章節需求
- **必要章節**：每個功能都必須完成
- **選擇性章節**：僅在與功能相關時包含
- 當章節不適用時，完全移除（不要留下 "N/A"）

### AI 產生指南
從使用者提示創建此規格時：
1. **標記所有模糊之處**：對於任何需要假設的地方使用 [需要澄清：具體問題]
2. **不要猜測**：如果提示沒有指定某些內容，請標記它
3. **像測試者一樣思考**：每個模糊的需求都應該未通過 "可測試且明確" 的檢查清單項目
4. **常見未充分規範的領域**：
   - 使用者類型和權限
   - 資料保留/刪除政策
   - 效能目標和規模
   - 錯誤處理行為
   - 整合需求
   - 安全性/合規需求

---

## 使用者情境與測試 *(必要)*

### 主要使用者故事
作為網站開發者，我需要一個標籤輸入組件，讓使用者能夠輸入多個項目（如關鍵字、電子郵件地址、標籤等），每個項目會以視覺化的標籤形式顯示在輸入框中，並且可以輕鬆地添加和移除這些標籤。

### 驗收情境
1. **假設** InputTags 組件已渲染並且為空，**當** 使用者在輸入框中輸入文字 "標籤1" 後按下 Enter 鍵，**則** 該文字應轉換為一個標籤顯示在輸入框內，且輸入框清空並保持焦點以便繼續輸入
2. **假設** InputTags 組件已包含一個標籤 "標籤1"，**當** 使用者繼續輸入 "標籤2" 並按下 Enter 鍵，**則** 應創建第二個標籤，兩個標籤並排顯示在輸入框中
3. **假設** 某個標籤顯示為 "標籤1" 並在右側有一個 X 按鈕，**當** 使用者點擊該 X 按鈕，**則** 該標籤應從組件中移除
4. **假設** 使用者在輸入框中輸入了空白字串（只包含空格），**當** 使用者按下 Enter 鍵，**則** 不應創建標籤，輸入框應保持為空
5. **假設** InputTags 組件包含多個標籤，**當** 使用者依序移除所有標籤，**則** 組件應回到初始空白狀態，輸入框可正常接受新輸入

### 邊界情況
- 是否支援複製/貼上多個項目並自動分割為多個標籤？
- 是否需要支援鍵盤導航來選擇和刪除標籤（不使用滑鼠）？
- 當滑鼠懸停在被截斷的標籤上時，是否應顯示完整內容的提示框？
- 當達到標籤數量上限時，使用者嘗試新增標籤應該如何提示？

## 需求 *(必要)*

### 功能需求
- **FR-001**: 組件必須提供一個文字輸入框，允許使用者輸入任意文字內容
- **FR-002**: 系統必須在使用者按下 Enter 鍵時，將當前輸入框中的文字轉換為標籤
- **FR-003**: 系統必須在創建標籤後立即清空輸入框，讓使用者可以繼續輸入下一個標籤
- **FR-004**: 系統必須在創建標籤後保持輸入框的焦點狀態
- **FR-005**: 每個標籤必須在右側顯示一個可點擊的 X 按鈕用於移除該標籤
- **FR-006**: 系統必須在使用者點擊標籤的 X 按鈕時立即移除該標籤
- **FR-007**: 組件必須能夠同時顯示多個標籤，標籤應在輸入框內以視覺化方式呈現
- **FR-008**: 系統必須忽略僅包含空白字符的輸入，不創建空白標籤
- **FR-009**: 組件必須提供獲取所有已創建標籤列表的方法 [需要澄清：以何種格式提供？陣列、字串等]
- **FR-010**: 組件必須支援程式化新增和移除標籤的功能
- **FR-011**: 組件必須在標籤新增或移除時觸發對應的事件 [需要澄清：需要哪些具體事件？]
- **FR-012**: 系統必須支援設定初始標籤值
- **FR-013**: 組件必須支援禁用狀態，禁用時不能新增或移除標籤 [需要澄清：是否需要禁用狀態？]
- **FR-014**: 系統必須允許使用者新增重複的標籤，不進行重複性檢查
- **FR-015**: 系統必須在使用者按下 Backspace 鍵且輸入框為空時，不執行任何動作，保持所有標籤不變
- **FR-016**: 組件必須支援可配置的標籤數量上限，開發者可以設定最大標籤數量，當達到上限時不允許新增更多標籤
- **FR-017**: 系統必須在標籤文字內容超過標籤最大寬度時，自動截斷文字並在末尾顯示省略號（...），以保持標籤視覺一致性
- **FR-018**: 組件必須以單行方式顯示所有標籤，當標籤數量超出容器寬度時，容器必須支援水平滾動以查看所有標籤

### 關鍵實體 *(如果功能涉及資料則包含)*
- **InputTags**: 主要組件，管理標籤的集合和輸入框狀態
- **Tag**: 單個標籤實體，包含文字內容和移除按鈕，可以被創建和刪除

---

## 審查與驗收檢查清單
*門檻：在主要執行期間運行自動檢查*

### 內容品質
- [x] 無實作細節（語言、框架、API）
- [x] 專注於使用者價值和業務需求
- [x] 為非技術相關人員撰寫
- [x] 所有必要章節已完成

### 需求完整性
- [ ] 沒有 [需要澄清] 標記保留
- [x] 需求可測試且明確
- [x] 成功標準可衡量
- [x] 範圍明確界定
- [x] 依賴關係和假設已識別

---

## 執行狀態
*在處理期間由主要程序更新*

- [x] 使用者描述已解析
- [x] 關鍵概念已提取
- [x] 模糊之處已標記
- [x] 使用者情境已定義
- [x] 需求已產生
- [x] 實體已識別
- [ ] 審查檢查清單已通過（存在需要澄清的項目）

---

## Clarifications

### Session 2025-09-30
- Q: 當使用者輸入已存在的標籤時，系統應該如何處理？ → A: 允許重複，直接新增相同標籤
- Q: 當使用者按下 Backspace 鍵且輸入框為空時，系統應該如何處理？ → A: 不做任何動作
- Q: 多個標籤在輸入框中如何排列顯示？ → A: 單行顯示，超出寬度時水平滾動
- Q: 當單個標籤的文字內容過長時，應該如何顯示？ → A: 截斷文字並顯示省略號（...）
- Q: 標籤數量是否需要限制？ → A: 可配置上限，由開發者自行設定

---

## 注意事項

此規格包含多個 [需要澄清] 標記，表示以下方面需要與相關人員確認：
1. ~~是否允許重複標籤以及重複處理策略~~ (已澄清)
2. ~~Backspace 鍵刪除標籤的行為~~ (已澄清)
3. ~~多標籤的顯示策略~~ (已澄清)
4. ~~長標籤的顯示策略~~ (已澄清)
5. ~~標籤數量限制~~ (已澄清)
6. 標籤資料的輸出格式
7. 需要觸發的具體事件類型
8. 是否需要禁用狀態功能

大部分關鍵不確定性已解決。建議解決剩餘項目後再進入規劃階段，或者可以接受這些項目在實作階段根據專案其他元件的模式決定。
